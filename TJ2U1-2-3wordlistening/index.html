<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="google" content="notranslate">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Picture Dictionary</title>

<style>
*{box-sizing:border-box;font-family:"Comic Sans MS","Arial Rounded MT Bold",sans-serif}
body{
  margin:0;
  background:linear-gradient(135deg,#fdf2f8,#e8f2ff);
}
.app{
  display:grid;
  grid-template-columns:220px 1fr;
  height:100vh;
  padding:16px;
  gap:16px;
}

/* ===== 左邊圖片區 ===== */
.left{
  background:#fff;
  border-radius:18px;
  padding:12px;
  box-shadow:0 12px 24px rgba(0,0,0,.12);
  display:flex;
  flex-direction:column;
}
.left h2{
  margin:0 0 10px;
  font-size:20px;
}
.pic-list{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
  overflow:auto;
}
.pic{
  height:90px;
  background:#fff;
  border-radius:14px;
  border:2px solid #f7b6cc;
  box-shadow:
    0 8px 14px rgba(0,0,0,.12),
    inset 0 6px 10px rgba(255,255,255,.9);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:grab;
}
.pic img{
  max-width:80%;
  max-height:80%;
  pointer-events:none;
}

/* ===== 右邊遊戲區 ===== */
.right{
  background:linear-gradient(180deg,#f7fbff,#fff0f6);
  border-radius:22px;
  padding:18px;
  box-shadow:0 14px 30px rgba(0,0,0,.15);
  display:flex;
  flex-direction:column;
}
.right h1{
  margin:0;
  font-size:28px;
}
.grid{
  margin-top:12px;
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:14px;
  flex:1;
}

/* ===== 右邊框框（固定大小） ===== */
.slot{
  height:150px;
  background:#fff7fa;
  border-radius:20px;
  border:3px dashed #f7a7c0;
  box-shadow:
    inset 0 10px 18px rgba(255,255,255,.95),
    0 8px 14px rgba(0,0,0,.12);
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
}
.slot.filled{
  border-style:solid;
}
.slot img{
  max-width:85%;
  max-height:85%;
}

/* ===== 單字（放大） ===== */
.word{
  position:absolute;
  top:-16px;
  background:#fff;
  padding:6px 18px;
  border-radius:999px;
  border:3px solid #f7a7c0;
  font-size:26px;
  font-weight:900;
  box-shadow:0 6px 10px rgba(0,0,0,.15);
}

/* ===== Oops 泡泡 ===== */
.oops{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:#ffb6c9;
  color:#fff;
  padding:14px 26px;
  font-size:30px;
  font-weight:900;
  border-radius:999px;
  box-shadow:0 10px 20px rgba(0,0,0,.25);
  display:none;
  animation:pop .6s ease;
}
@keyframes pop{
  0%{transform:translate(-50%,-50%) scale(.6);opacity:0}
  100%{transform:translate(-50%,-50%) scale(1);opacity:1}
}
</style>
</head>

<body>
<div class="app">
  <!-- 左 -->
  <div class="left">
    <h2>Pictures</h2>
    <div class="pic-list" id="pics"></div>
  </div>

  <!-- 右 -->
  <div class="right">
    <h1>Picture Dictionary</h1>
    <div class="grid" id="grid"></div>
  </div>
</div>

<div class="oops" id="oops">Oops!</div>

<script>
const words=[
"cat","dog","bee","ant","bug",
"star","heart","book","pencil","marker",
"ruler","door","house","window"
];

const pics=document.getElementById("pics");
const grid=document.getElementById("grid");
const oops=document.getElementById("oops");
let placed=0;

/* 建立左邊圖片 */
function buildPics(){
  pics.innerHTML="";
  shuffle([...words]).forEach(w=>{
    const d=document.createElement("div");
    d.className="pic";
    d.draggable=true;
    d.dataset.word=w;
    d.innerHTML=`<img src="images/${w}.png">`;
    d.onclick=()=>speak(w);
    d.ondragstart=e=>e.dataTransfer.setData("word",w);
    pics.appendChild(d);
  });
}

/* 建立右邊格子 */
function buildGrid(){
  grid.innerHTML="";
  placed=0;
  shuffle([...words]).forEach(w=>{
    const s=document.createElement("div");
    s.className="slot";
    s.dataset.word=w;
    s.innerHTML=`<div class="word">${w}</div>`;
    s.ondragover=e=>e.preventDefault();
    s.ondrop=e=>{
      const word=e.dataTransfer.getData("word");
      if(word===w && !s.classList.contains("filled")){
        s.classList.add("filled");
        s.innerHTML+=`<img src="images/${w}.png">`;
        speak(w);
        placed++;
        if(placed===words.length){
          setTimeout(resetGame,800);
        }
      }else{
        showOops();
      }
    };
    grid.appendChild(s);
  });
}

function showOops(){
  oops.style.display="block";
  setTimeout(()=>oops.style.display="none",600);
}

function speak(w){
  const u=new SpeechSynthesisUtterance(w);
  u.lang="en-US";
  speechSynthesis.speak(u);
}

function shuffle(a){
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

function resetGame(){
  buildPics();
  buildGrid();
}

resetGame();
</script>
</body>
</html>
